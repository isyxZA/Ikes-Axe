<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_Rocketship</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>9</depth>
  <persistent>0</persistent>
  <parentName>obj_Dynamic_Parent</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>phy_fixed_rotation = true;
dir = 0;
x_force_rt = 800; // d-key
x_force_lt = -800; // a- key
y_force = -800; // spacebar
shooting = false; 
bullet_speed = 400;
can_boost = false;
can_shoot = false;
bullet_create = -1;
rocket_bullet = obj_Rocket_Bullet_01;
missile_create = -1;
global.rocket_move = false;
move_up = false;
move_left = false;
move_right = false;

// Particle system
exhaust = part_system_create();
// Particle type
explode = part_type_create();
part_type_shape(explode,pt_shape_star)
part_type_size(explode, 0.5, 1, -0.05, 0)
part_type_scale(explode,0.4, 0.4)
part_type_colour2(explode, c_white, c_blue);
part_type_life(explode,2,2)
part_type_blend(explode, 1)
// Make it happen
exhaust_emitter = part_emitter_create(exhaust);
part_system_depth(exhaust, 0);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>part_system_destroy(exhaust);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="6">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_create(x + 43, y + 32, obj_Rocket_Flare_lt);
bullet_create  = instance_create(x - 43, y + 28, rocket_bullet)
with (bullet_create){
    physics_apply_impulse(phy_position_x, phy_position_y, -20000, 0)
}
audio_play_sound(snd_Rocketship_Shoot, 30, false);
shooting = true;
can_shoot = false;
alarm[1] = 16;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_create(x + 43, y + 32, obj_Rocket_Flare_lt);
bullet_create  = instance_create(x - 43, y + 28, rocket_bullet)
with (bullet_create){
    physics_apply_impulse(phy_position_x, phy_position_y, -20000, 0)
}
audio_play_sound(snd_Rocketship_Shoot, 30, false);
shooting = true;
can_shoot = false;
alarm[6] = 5;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_create(x + 43, y + 32, obj_Rocket_Flare_rt);
bullet_create  = instance_create(x + 43, y + 28, rocket_bullet)
with (bullet_create){
    physics_apply_impulse(phy_position_x, phy_position_y, 20000, 0)
}
audio_play_sound(snd_Rocketship_Shoot, 30, false);
shooting = true;
can_shoot = false;
alarm[1] = 16;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_create(x + 43, y + 32, obj_Rocket_Flare_rt);
bullet_create  = instance_create(x + 43, y + 28, rocket_bullet)
with (bullet_create){
    physics_apply_impulse(phy_position_x, phy_position_y, 20000, 0)
}
audio_play_sound(snd_Rocketship_Shoot, 30, false);
shooting = true;
can_shoot = false;
alarm[4] = 5;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>rocket_bullet = obj_Rocket_Bullet_01;
can_shoot = true;
with (obj_Missile_Icon){
    instance_destroy();
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>can_shoot = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.rocket_x = phy_position_x;
global.rocket_y = phy_position_y;

if place_meeting(x, y, obj_Main_Char){
    global.rocket_joined = true;
    global.biplane_joined = false;
    global.can_jump = false;
    global.can_move = false;
    if (global.rocket_move == true){
        if move_up == true {
            physics_apply_force(x, y, 0, y_force);
        }
        if move_left == true {
            dir = 1;
            part_emitter_region(exhaust, exhaust_emitter, phy_position_x + 50, phy_position_x + 55, phy_position_y + 4, phy_position_y + 24, ps_shape_ellipse, ps_distr_gaussian);
            part_emitter_burst(exhaust, exhaust_emitter, explode, 10);
            if global.rocket_boost == true { physics_apply_force(x, y, x_force_lt * 2, 0); }
                else { physics_apply_force(x, y, x_force_lt, 0); }
        }
        if move_right == true{
            dir = 0;
            part_emitter_region(exhaust, exhaust_emitter, phy_position_x - 53, phy_position_x - 48, phy_position_y + 4, phy_position_y + 24, ps_shape_ellipse, ps_distr_gaussian);
            part_emitter_burst(exhaust, exhaust_emitter, explode, 10);
            if global.rocket_boost == true { physics_apply_force(x, y, x_force_rt * 2, 0); }
                else { physics_apply_force(x, y, x_force_rt, 0); }
        }
    }
}

if (global.rocket_joined == true){
    with (obj_Main_Char){
        global.can_shoot = false;
        parachute = false;
        phy_position_x = global.rocket_x;
        phy_position_y = global.rocket_y;
    }
    with (obj_Missile_Icon){
        if (global.dir = 0){
            sprite_index = spr_Missile_PwrUp;
            x = global.rocket_x + 8;
            y = global.rocket_y + 32;
        }
        if (global.dir = 1){
            sprite_index = spr_Missile_PwrUp_lt;
            x = global.rocket_x - 8;
            y = global.rocket_y + 32;
        }
        
    }
}

with (obj_Rocket_Flare_rt){
    x = global.rocket_x + 43;
    y = global.rocket_y + 32;
}

with (obj_Rocket_Flare_lt){
    x = global.rocket_x - 40;
    y = global.rocket_y + 32;
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (dir == 1){
    sprite_index = spr_Rocketship_lt;
}
    else if (dir == 0){
        sprite_index = spr_Rocketship;
    }

if (missile_create == true){
    instance_create(x,y, obj_Missile_Icon);
    missile_create = false;
}

if (phy_speed_x &gt; 8){
    phy_speed_x = 8;
}
if (phy_speed_x &lt; -8){
    phy_speed_x = -8;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="54">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (global.rocket_joined == true){
    if (rocket_bullet == obj_Missile) &amp;&amp; !place_meeting(x, y + 32, obj_Brick){
        if (can_shoot == true){
            instance_create(x, y + 32, obj_Missile);
            audio_play_sound(snd_Axe_Throw, 30, false);
            shooting = true;
            can_shoot = false;
            alarm[1] = 25;
        }
    }
    if (rocket_bullet == obj_Rocket_Bullet_01){
        if (can_shoot == true) &amp;&amp; (dir == 0){
            instance_create(x + 43, y + 32, obj_Rocket_Flare_rt);
            bullet_create  = instance_create(x + 43, y + 28, rocket_bullet)
            with (bullet_create){
                physics_apply_impulse(phy_position_x, phy_position_y, 20000, 0)
            }
            audio_play_sound(snd_Rocketship_Shoot, 30, false);
            shooting = true;
            can_shoot = false;
            alarm[3] = 5;
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="53">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (global.rocket_joined == true){
    if (rocket_bullet == obj_Missile) &amp;&amp; !place_meeting(x, y + 32, obj_Brick){
        if (can_shoot == true){
            instance_create(x, y + 32, obj_Missile);
            audio_play_sound(snd_Axe_Throw, 30, false);
            shooting = true;
            can_shoot = false;
            alarm[1] = 25;
        }
    }
    
    if (rocket_bullet == obj_Rocket_Bullet_01){
        if (can_shoot == true) &amp;&amp; (dir == 1){
            instance_create(x + 43, y + 32, obj_Rocket_Flare_lt);
            bullet_create  = instance_create(x - 43, y + 28, rocket_bullet)
            with (bullet_create){
                physics_apply_impulse(phy_position_x, phy_position_y, -20000, 0)
            }
            audio_play_sound(snd_Rocketship_Shoot, 30, false);
            shooting = true;
            can_shoot = false;
            alarm[5] = 5;
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="39">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (global.rocket_joined == true){
    if (rocket_bullet == obj_Missile) &amp;&amp; !place_meeting(x, y + 32, obj_Brick){
        if (can_shoot == true){
            instance_create(x, y + 32, obj_Missile);
            audio_play_sound(snd_Axe_Throw, 30, false);
            shooting = true;
            can_shoot = false;
            alarm[1] = 25;
        }
    }
    if (rocket_bullet == obj_Rocket_Bullet_01){
        if (can_shoot == true) &amp;&amp; (dir == 0){
            instance_create(x + 43, y + 32, obj_Rocket_Flare_rt);
            bullet_create  = instance_create(x + 43, y + 28, rocket_bullet)
            with (bullet_create){
                physics_apply_impulse(phy_position_x, phy_position_y, 20000, 0)
            }
            audio_play_sound(snd_Rocketship_Shoot, 30, false);
            shooting = true;
            can_shoot = false;
            alarm[3] = 5;
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="37">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (global.rocket_joined == true){
    if (rocket_bullet == obj_Missile) &amp;&amp; !place_meeting(x, y + 32, obj_Brick){
        if (can_shoot == true){
            instance_create(x, y + 32, obj_Missile);
            audio_play_sound(snd_Axe_Throw, 30, false);
            shooting = true;
            can_shoot = false;
            alarm[1] = 25;
        }
    }
    
    if (rocket_bullet == obj_Rocket_Bullet_01){
        if (can_shoot == true) &amp;&amp; (dir == 1){
            instance_create(x + 43, y + 32, obj_Rocket_Flare_lt);
            bullet_create  = instance_create(x - 43, y + 28, rocket_bullet)
            with (bullet_create){
                physics_apply_impulse(phy_position_x, phy_position_y, -20000, 0)
            }
            audio_play_sound(snd_Rocketship_Shoot, 30, false);
            shooting = true;
            can_shoot = false;
            alarm[5] = 5;
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>-1</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>2</PhysicsObjectShape>
  <PhysicsObjectDensity>0.200000002980232</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>-1</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>1.25</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>1</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>38,41</point>
    <point>72,20</point>
    <point>88,20</point>
    <point>130,54</point>
    <point>106,74</point>
    <point>92,78</point>
    <point>62,78</point>
    <point>38,70</point>
  </PhysicsShapePoints>
</object>
